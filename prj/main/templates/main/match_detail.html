{% extends 'main/base.html' %}

{% block content %}
<div class="container py-4">
   <h2 class="mb-3 text-center">
      {{ match.home_team.name }} vs {{ match.away_team.name }}
   </h2>
   <div class="row justify-content-center mb-4">
      <div class="col-auto text-center">
         <span class="fw-bold">Home:</span> {{ match.home_team.short_name }}
      </div>
      <div class="col-auto text-center">
         <span class="fw-bold">Away:</span> {{ match.away_team.short_name }}
      </div>
   </div>
   <div class="row justify-content-center">
      <div class="col-md-8">
         {% if match.date == today %}
         <div class="card bg-light border-primary shadow-sm">
            {% elif match.date > today %}
            <div class="card bg-light border-success shadow-sm">
               {% else %}
               <div class="card bg-light border-secondary shadow-sm">
                  {% endif %}
                  <div class="card-body">
                     <p class="text-center mb-3"><strong>Location:</strong> {{ match.location }}</p>
                     {% if stats %}
                     <table class="table table-bordered text-center">
                        <thead>
                           <tr>
                              <th></th>
                              <th>{{ match.home_team }}</th>
                              <th>{{ match.away_team }}</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr>
                              <td>Shots</td>
                              <td>{{ stats.home_shots }}</td>
                              <td>{{ stats.away_shots }}</td>
                           </tr>
                           <tr>
                              <td>Shots on Target</td>
                              <td>{{ stats.home_shots_on_target }}</td>
                              <td>{{ stats.away_shots_on_target }}</td>
                           </tr>
                           <tr>
                              <td>Possession</td>
                              <td>{{ stats.home_possession }} %</td>
                              <td>{{ stats.away_possession }} %</td>
                           </tr>
                           <tr>
                              <td>Pass Completion</td>
                              <td>{{ stats.home_pass_completion }} %</td>
                              <td>{{ stats.away_pass_completion }} %</td>
                           </tr>
                           <tr>
                              <td>Yellow Cards</td>
                              <td>{{ stats.home_yellow_cards }}</td>
                              <td>{{ stats.away_yellow_cards }}</td>
                           </tr>
                           <tr>
                              <td>Red Cards</td>
                              <td>{{ stats.home_red_cards }}</td>
                              <td>{{ stats.away_red_cards }}</td>
                           </tr>
                           <tr>
                              <td>Fouls</td>
                              <td>{{ stats.home_fouls }}</td>
                              <td>{{ stats.away_fouls }}</td>
                           </tr>
                           <tr>
                              <td>Extra Time</td>
                              <td colspan="2">{% if stats.extra_time %}Yes{% else %}No{% endif %}</td>
                           </tr>
                        </tbody>
                     </table>
                     {% else %}
                     <p class="text-center">No stats available for this match.</p>
                     {% endif %}
                  </div>
               </div>
            </div>
         </div>
         <div class="text-center mt-3">
            <a href="/" class="btn btn-secondary">Back to matches</a>
         </div>
      </div>
      {% endblock %}